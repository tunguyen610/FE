
@{
    Layout = null;
}
<style>
    #ImageToVid {
        border-radius: 5px;
    }

    .modal {
        display: none; /* Hidden by default */
        position: fixed; /* Stay in place */
        z-index: 10; /* Sit on top */
        padding-top: 100px; /* Location of the box */
        left: 0;
        top: 0;
        width: 100%; /* Full width */
        height: 100%; /* Full height */
        overflow: auto; /* Enable scroll if needed */
        background-color: rgb(0,0,0); /* Fallback color */
        background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    }

    /* Modal Content */
    .modal-content {
        background-color: #fefefe;
        margin: auto;
        padding: 20px;
        border: 1px solid #888;
        width: 45%;
    }

    /* The Close Button */
    .close {
        color: #aaaaaa;
        float: right;
        font-size: 28px;
        font-weight: bold;
    }

        .close:hover,
        .close:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }

    .Background_Library {
        background-color: #002068;
        background-image: url('/images/image 17 (1).png');
        background-repeat: no-repeat;
        background-size: cover;
        width: auto;
    }

        /* .Background_Library .row > div {
            padding-top: 3%;
            padding-left: 10%;
        }*/
        .Background_Library .row > div {
            padding: 3% 0 3% 0;
        }

    .Library_Item {
        padding-top: 5%;
        position: relative;
    }

    .Library_Item_Image {
        padding: 0%
    }

    .Library_Item div a {
        font-size: 16px;
        font-family: My Custom Medium;
        color: white;
    }

    .play {
        position: absolute;
        left: 39%;
        top: 37%;
        color: white;
    }

    .pdf {
        position: absolute;
        top: 70%;
        font-size: 23px;
        left: 3%;
        color: white;
    }

    .VideoContext {
        width: 100%;
        height: auto;
        background-color: #313e4c;
        border-radius: 0px 0px 15px 15px;
        padding: 3%;
    }

        .VideoContext a {
            font-size: 22px;
            font-family: My Custom Regular;
            color: white;
        }

        .VideoContext span {
            color: white;
            font-family: My Custom Regular;
            font-size: 12px;
        }


    .text {
        padding-right: 10%;
    }

    .PlayButton1 {
        border-radius: 50px;
        width: 55px;
        height: 55px;
        background-color: white;
        padding-top: 18px;
        padding-left: 21px;
        box-shadow: 0px 0px 0px 8px rgb(255 255 255 / 30%);
        position: absolute;
        margin-left: 290px;
        margin-top: -18%;
    }

        .PlayButton1:hover {
            border-radius: 55px;
            width: 59px;
            height: 59px;
            background-color: white;
            padding-top: 20px;
            padding-left: 22px;
            margin-left: 290px;
            margin-top: -18%;
            box-shadow: 0px 0px 0px 0px rgb(255 255 255 / 30%);
            transition: all 0.2s ease;
        }

    h3 {
        color: white;
        font-family: My Custom Regular;
        letter-spacing: 1px;
    }

    h1 {
        color: #2AD9FF;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', My Custom Regular;
        font-size: 40px;
    }
    #list_library_pc{
        padding: 5% 0 0 0;
    }
</style>
<div class="container-fluid Background_Library">
    <div class="container" style="padding: 0 15% 5% 15%; width: 100%; margin: 0;">
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="padding:0;">
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="padding:0;">
                    <h3>@ViewBag.objParrentCategory[0].Name</h3>
                    <h1>@ViewBag.lblDaoTaoTrucTiep</h1>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12" style="padding:0;">
                <div class="col-xs-12 col-sm-7 col-md-7 col-lg-7" id="detail_library_mobile" style="padding-top: 8%;display:none; position: relative;">
                    <button id="button-pc" style="height: 36px; color: white; text-align: center; margin: 0% 0% 3% 71%; background-color: transparent; border-radius: 3px 3px 3px 3px; border-color: white; font-family: My Custom Regular; letter-spacing: 1px; float:right;width:30%;" onclick="window.location.href='/thu-vien'">@ViewBag.lblXemHet</button>
                    @foreach (var item in ViewBag.listAllLibary)
                    {
                        if (item.Video != "")
                        {
                            <div class="video-wrapper">
                                <div class="video-container" id="video-container" style="height:100%;">
                                    @*<iframe class="embed-responsive-item" src="@item.Video" style="height: 350px; width: 635px; border-radius: 15px 15px 0px 0px;"></iframe>*@
                                    <img src="@item.Photo" style="width: 100%; border-top-left-radius: 15px; border-top-right-radius: 15px;" />
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 VideoContext">
                                <a onclick="checkSignUpforLib(@ViewBag.UserID,  '@item.Url')" style="cursor:pointer">@item.Name</a>
                                <div>
                                    <span><i class="fas fa-eye"></i></span>
                                    <span class="text">@item.ViewCount</span>
                                    @*<span><i class="fas fa-clock"></i></span>
                                    <span class="text">120 Phút</span>*@
                                    <span><i class="fas fa-calendar"></i></span>
                                    <span class="text">@item.CreatedTime.ToString("dd/MM/yyyy")</span>
                                </div>
                            </div>
                            break;
                        }
                    }
                </div>
                <div class="col-xs-12 col-sm-5 col-md-5 col-lg-5" id="list_library_pc">
                    @for (int i = 1; i < ViewBag.listAllLibary.Count; i++)
                    {
                        var item = ViewBag.listAllLibary[i];
                        if (@ViewBag.listAllLibary[i].Video != "")
                        {
                            var ImageToVid = "ImageToVid" + i;
                            var MyModal = "MyModal" + i;
                            var close = "close" + i;

                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 Library_Item" style="padding: 0 0 5% 0; ">
                                <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 Library_Item_Image">

                                    <img src="@ViewBag.listAllLibary[i].Photo" width="130" height="88" style="width:100%;" id="ImageToVid" />

                                    <!--<div id="@MyModal" class="modal" style="">-->
                                    <!-- Modal content -->
                                    <!--<div class="modal-content">
                                            <span class="@close">&times;</span>
                                            <div class="video-wrapper">
                                                <div class="video-container" id="video-container" style="text-align:center;">
                                                    <iframe class="embed-responsive-item" src="@ViewBag.listAllLibary[i].Video" style="height:558px;width:100%"></iframe>
                                                </div>
                                            </div>
                                        </div>

                                    </div>-->
                                </div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                    <a class="ellipsis3" onclick="checkSignUpforLib(@ViewBag.UserID,  '@ViewBag.listAllLibary[i].Url')" style="cursor:pointer">@ViewBag.listAllLibary[i].Name</a>
                                    <p style="color: #f1af04; font-family: My Custom Regular">@ViewBag.listAllLibary[i].CreatedTime.ToString("dd/MM/yyyy")</p>
                                </div>
                            </div>
                        }
                        else
                        {
                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 Library_Item" style="padding: 0 0 5% 0; ">
                                <div class="col-xs-4 col-sm-4 col-md-4 col-lg-4 Library_Item_Image">
                                    <img src="@ViewBag.listAllLibary[i].Photo" width="130" height="88" style="border-radius:5px; width:100%;" />
                                    <a href=""><i class="fas fa-file-pdf pdf"></i></a>
                                </div>
                                <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                    <a class="ellipsis3" onclick="checkSignUpforLib(@ViewBag.UserID,  '@ViewBag.listAllLibary[i].Url')" style="cursor:pointer">@ViewBag.listAllLibary[i].Name</a>
                                    <p style="color: #f1af04; font-family: My Custom Regular">@ViewBag.listAllLibary[i].CreatedTime.ToString("dd/MM/yyyy")</p>
                                </div>
                            </div>
                        }
                    }

                    @*<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 Library_Item">

                            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 Library_Item_Image">
                                <img src="~/images/Rectangle 160 (1).png" />
                                <a href=""><i class="fas fa-file-pdf pdf"></i></a>
                            </div>
                            <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                <p>Tài liệu báo cáo tình trạng tài chính ngành tiêu dùng 2022</p>
                                <p style="color: #f1af04; font-family: My Custom Regular">12/04/2021</p>
                            </div>
                        </div>

                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 Library_Item">

                            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 Library_Item_Image">
                                <img src="~/images/Rectangle 160 (2).png" />
                                <a href=""><i class="fas fa-play play"></i></a>
                            </div>
                            <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                <p>Tài liệu báo cáo tình trạng tài chính ngành tiêu dùng 2022</p>
                                <p style="color: #f1af04; font-family: My Custom Regular">12/04/2021</p>
                            </div>
                        </div>

                        <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 Library_Item">

                            <div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 Library_Item_Image">
                                <img src="~/images/Rectangle 160 (3).png" />
                                <a href=""><i class="fas fa-file-pdf pdf"></i></a>
                            </div>
                            <div class="col-xs-8 col-sm-8 col-md-8 col-lg-8">
                                <p>Tài liệu báo cáo tình trạng tài chính ngành tiêu dùng 2022</p>
                                <p style="color: #f1af04; font-family: My Custom Regular">12/04/2021</p>
                            </div>
                        </div>*@

                </div>

                <div class="col-xs-12 col-sm-7 col-md-7 col-lg-7" id="detail_library_pc" style="padding-top: 0%; position: relative;">
                    <button id="button-pc" style="height: 36px; color: white; text-align: center; margin: 0% 0% 3% 71%; background-color: transparent; border-radius: 3px 3px 3px 3px; border-color: white; font-family: My Custom Regular; letter-spacing: 1px; float:right;width:30%;" onclick="window.location.href='/thu-vien'">@ViewBag.lblXemHet</button>
                    @foreach (var item in ViewBag.listAllLibary)
                    {
                        if (item.Video != "")
                        {
                            <div class="video-wrapper">
                                <div class="video-container" id="video-container" style="height:100%;">
                                    @*<iframe class="embed-responsive-item" src="@item.Video" style="height: 350px; width: 635px; border-radius: 15px 15px 0px 0px;"></iframe>*@
                                    <img src="@item.Photo" style="width: 100%; border-top-left-radius: 15px; border-top-right-radius: 15px;" />
                                </div>
                            </div>
                            <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 VideoContext">
                                <a onclick="checkSignUpforLib(@ViewBag.UserID,  '@item.Url')" style="cursor:pointer">@item.Name</a>
                                <div>
                                    <span><i class="fas fa-eye"></i></span>
                                    <span class="text">@item.ViewCount</span>
                                    @*<span><i class="fas fa-clock"></i></span>
                                    <span class="text">120 Phút</span>*@
                                    <span><i class="fas fa-calendar"></i></span>
                                    <span class="text">@item.CreatedTime.ToString("dd/MM/yyyy")</span>
                                </div>
                            </div>
                            break;
                        }
                    }
                </div>
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
                    <button id="button-Mobile" style="height: 36px; color: white; text-align: center; margin: 0% 0% 4% 0%; background-color: transparent; border-radius: 3px 3px 3px 3px; border-color: white; font-family: My Custom Regular; letter-spacing: 1px; float: right; width: 30%; display:none;" onclick="window.location.href='/thu-vien'">@ViewBag.lblXemHet</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    function checkSignUpforLib(UserID, url) {
            debugger;
            if(UserID == 0) {
                Swal.fire({
                    title: 'Bạn chưa đăng nhập',
                    html: "Vui lòng đăng nhập để truy cập tài liệu nguồn",
                    type: 'info',
                    showCancelButton: true,
                    confirmButtonColor: '#FF512F',
                    cancelButtonColor: '#777',
                    confirmButtonText: 'Đến trang đăng nhập',
                    cancelButtonText: 'Hủy'
                }).then((result) => {
                    if (result.value == true) {
                        location.href = "/dang-nhap";
                    }
                });
            }else if(@ViewBag.UserTypeID == 10003) {
                Swal.fire({
                    title: 'Tài khoản của bạn không có quyền',
                    html: "Hãy đăng nhập tài khoản doanh nghiệp để truy cập",
                    type: 'info',
                    showCancelButton: true,
                    confirmButtonColor: '#FF512F',
                    cancelButtonColor: '#777',
                    confirmButtonText: 'Đến trang đăng nhập',
                    cancelButtonText: 'Hủy'
                }).then((result) => {
                    if (result.value == true) {
                        location.href = "/dang-nhap";
                    }
                });
            }else
                 window.open('/chi-tiet-thu-vien/' + url);
        }
</script>

<script>
    debugger;
    const GetModal = [];
    const GetModalContent = [];
    var listlibrary = '@Html.Raw(ViewBag.list5library)'
    for (var i = 0; i < listlibrary.length; i++) {
        var item = listlibrary[i];
        if (item.Video != "") {
            var modalstring = "#myModal" + i;
            var modal = document.getElementById(modalstring);

            // Get the button that opens the modal
            var ImageToVid = " #ImageToVid" + i;
            GetModal.push(ImageToVid);
            GetModalContent.push(modalstring);
            // Get the <span> element that closes the modal
            var close = "close" + i;
            var span = document.getElementsByClassName(close)[0];


            // When the user clicks the button, open the modal

        }


    }
    $(document).ready(function () {
        $(' #ImageToVid1, #ImageToVid3').on("click", function () {
            let index = 1;
            var ShowModal = GetModalContent[1];
            document.getElementById(ShowModal).style.display = "block";
        });
    });
    // Get the modal
</script>

