
@{
    Layout = null;
}

<style>
    #surveyBar {
        margin-top: 40px;
        background-image: url('/images/image 19.png');
        background-repeat: no-repeat;
        background-size: cover;
        height: 367px;
        width: auto;
        border-radius: 10px;
    }
    #surveyBar.stickIt {
        position: fixed;
        top: 0px;
    }
    @@media (max-width : 991px) {
        #surveyBar {
            display: none;
        }


    }
</style>
<div id="surveyBar">
    <div style="padding-top: 50px; margin-left: 30px; margin-right: 30px">
        <img src="~/images/Vector.png" class="img-responsive" alt="Image">
        <p style="line-height: 18.75px; font-size: 15px; font-weight: 400; color: white;">@ViewBag.lblDangKyNhanHoTro</p>
        <p style="color: #2AD9FF; font-size: 36px;">@ViewBag.lblKetNoiVoiChungToi</p>
        <button class="btn btn-warning" onclick="window.location.href='/Liet-ke-cac-khao-sat';">@ViewBag.lblKhaoSatToanDien.ToUpper()</button>
    </div>
</div>
<script>
    /* it seems javascript..*/
    var topLimit = $('#surveyBar').offset().top;
    var clientWidth = $('#surveyBar').innerWidth();
    var surveyBarTop = parseInt($("#surveyBar").css("marginTop"));
    $(window).scroll(function () {
        var foot = document.querySelector("footer").offsetTop;
        var clientHeight = document.getElementById('surveyBar').offsetHeight;
        var scroll = $(window).scrollTop();
        //console.log(topLimit <= $(window).scrollTop())
        if (topLimit <= scroll && scroll <= (foot - clientHeight - surveyBarTop)) {
            $('#surveyBar').addClass('stickIt');
            $('#surveyBar').css("margin-top", surveyBarTop + "px");
            $('#surveyBar.stickIt').attr("style","width:"+ clientWidth + "px !important");
        }
        else if (topLimit > scroll) {
            $('#surveyBar').css("margin-top", surveyBarTop + "px");
            $('#surveyBar').removeClass('stickIt');
        }
        else {
            $('#surveyBar').removeClass('stickIt');
            $('#surveyBar').css("margin-top", (foot - clientHeight) - (topLimit) + "px");
        }
    })
</script>
